<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>기준정보 관리 - 멍밥</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- 사이드바 -->
        <nav class="sidebar">
            <h2>멍밥 ERP</h2>
            <ul>
                <li><a href="dashboard.html">메인 대시보드</a></li> 
                <li class="active"><a href="admin.html">기준정보 관리</a></li>
                <li><a href="purchase.html">입고 관리 (발주)</a></li>
                <li><a href="sales.html">수주 관리 (출고)</a></li>
                <li><a href="stock.html">재고 관리</a></li>
                <li><a href="reports.html">리포트</a></li>
                <li><a href="returns.html">반품/환불 관리</a></li>
            </ul>
        </nav>

        <!-- 메인 컨텐츠 -->
        <main class="dashboard">
            <h1>기준정보 관리 (Master Data)</h1>

            <!-- 탭 메뉴 -->
            <div class="tabs">
                <button class="tab-link active" data-tab="tab-products">1. 상품 (Products)</button>
                <button class="tab-link" data-tab="tab-partners">2. 거래처 (Partners)</button>
                <button class="tab-link" data-tab="tab-warehouses">3. 창고 (Warehouses)</button>
                <button class="tab-link" data-tab="tab-locations">4. 로케이션 (Locations)</button>
            </div>

            <!-- [Tab 1] 상품 관리 -->
            <div id="tab-products" class="tab-content active">
                <div class="toolbar">
                    <div class="filter-group">
                        <label>카테고리 필터:</label>
                        <!-- app.js의 renderProducts()와 연동 -->
                        <select id="product-category-filter" onchange="renderProducts()">
                            <option value="all">전체 보기</option>
                            <option value="사료">사료</option>
                            <option value="간식/캔">간식/캔</option>
                            <option value="영양제">영양제</option>
                            <option value="용품">용품</option>
                        </select>
                    </div>
                    <button class="btn-primary" onclick="openProductModal('NEW')">+ 신규 상품 등록</button>
                </div>
                <div class="table-wrapper">
                    <table class="sortable-table">
                        <thead>
                            <tr>
                                <th>SKU</th>
                                <th>상품명</th>
                                <th>카테고리</th>
                                <th>안전재고</th>
                                <th>관리</th>
                            </tr>
                        </thead>
                        <tbody><!-- JS 렌더링 --></tbody>
                    </table>
                </div>
            </div>

            <!-- [Tab 2] 거래처 관리 -->
            <div id="tab-partners" class="tab-content">
                <div class="toolbar">
                    <button class="btn-primary" onclick="openModal('partnerModal')">+ 신규 거래처 등록</button>
                </div>
                <div class="table-wrapper">
                    <table class="sortable-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>거래처명</th>
                                <th>유형</th>
                                <th>담당자</th>
                            </tr>
                        </thead>
                        <tbody><!-- JS 렌더링 --></tbody>
                    </table>
                </div>
            </div>

            <!-- [Tab 3] 창고 관리 -->
            <div id="tab-warehouses" class="tab-content">
                <div class="toolbar">
                    <button class="btn-primary" onclick="openModal('warehouseModal')">+ 신규 창고 등록</button>
                </div>
                <div class="table-wrapper">
                    <table class="sortable-table">
                        <thead>
                            <tr>
                                <th>창고 코드</th>
                                <th>창고명</th>
                                <th>유형</th>
                            </tr>
                        </thead>
                        <tbody><!-- JS 렌더링 --></tbody>
                    </table>
                </div>
            </div>

            <!-- [Tab 4] 로케이션 관리 -->
            <div id="tab-locations" class="tab-content">
                <div class="toolbar">
                    <div class="filter-group">
                        <label>창고 선택:</label>
                        <!-- app.js의 renderLocations()와 연동 -->
                        <select id="wh-select-filter" onchange="renderLocations()">
                            <option value="all">전체 창고</option>
                            <option value="WH-01">제1 물류센터</option>
                            <option value="WH-02">반품 센터</option>
                        </select>
                    </div>
                    <button class="btn-primary" onclick="openModal('locationModal')">+ 신규 로케이션 등록</button>
                </div>
                <div class="table-wrapper">
                    <table class="sortable-table">
                        <thead>
                            <tr>
                                <th>로케이션 ID</th>
                                <th>소속 창고</th>
                                <th>설명</th>
                            </tr>
                        </thead>
                        <tbody><!-- JS 렌더링 --></tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- ========================================== -->
    <!-- [모달 1] 상품 등록 -->
    <!-- ========================================== -->
    <div id="productModal" class="modal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h2 id="productModalTitle">상품 정보</h2>
                <span class="close" onclick="closeModal('productModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group"><label>SKU (고유코드):</label><input type="text" id="prod-sku"></div>
                <div class="form-group"><label>상품명:</label><input type="text" id="prod-name"></div>
                <div class="form-group">
                    <label>카테고리:</label>
                    <select id="prod-cat">
                        <option value="사료">사료</option>
                        <option value="간식/캔">간식/캔</option>
                        <option value="영양제">영양제</option>
                        <option value="용품">용품</option>
                    </select>
                </div>
                <div class="form-group"><label>안전재고:</label><input type="number" id="prod-safe"></div>
            </div>
            <div class="modal-footer">
                <button onclick="closeModal('productModal')">취소</button>
                <button class="btn-primary" onclick="saveProduct()">저장</button>
            </div>
        </div>
    </div>

    <!-- ========================================== -->
    <!-- [모달 2] 거래처 등록 -->
    <!-- ========================================== -->
    <div id="partnerModal" class="modal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h2>신규 거래처 등록</h2>
                <span class="close" onclick="closeModal('partnerModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group"><label>ID:</label><input type="text" id="part-id"></div>
                <div class="form-group"><label>거래처명:</label><input type="text" id="part-name"></div>
                <div class="form-group">
                    <label>유형:</label>
                    <select id="part-type"><option value="공급처">공급처</option><option value="고객사">고객사</option></select>
                </div>
                <div class="form-group"><label>담당자:</label><input type="text" id="part-manager"></div>
            </div>
            <div class="modal-footer">
                <button onclick="closeModal('partnerModal')">취소</button>
                <button class="btn-primary" onclick="savePartner()">등록</button>
            </div>
        </div>
    </div>

    <!-- ========================================== -->
    <!-- [모달 3] 창고 등록 -->
    <!-- ========================================== -->
    <div id="warehouseModal" class="modal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h2>신규 창고 등록</h2>
                <span class="close" onclick="closeModal('warehouseModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group"><label>창고 ID:</label><input type="text" id="wh-id" placeholder="예: WH-03"></div>
                <div class="form-group"><label>창고명:</label><input type="text" id="wh-name"></div>
                <div class="form-group">
                    <label>유형:</label>
                    <select id="wh-type"><option value="일반">일반</option><option value="반품">반품</option></select>
                </div>
            </div>
            <div class="modal-footer">
                <button onclick="closeModal('warehouseModal')">취소</button>
                <button class="btn-primary" onclick="saveWarehouse()">등록</button>
            </div>
        </div>
    </div>

    <!-- ========================================== -->
    <!-- [모달 4] 로케이션 등록 -->
    <!-- ========================================== -->
    <div id="locationModal" class="modal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h2>신규 로케이션 등록</h2>
                <span class="close" onclick="closeModal('locationModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>소속 창고:</label>
                    <select id="loc-wh">
                        <option value="WH-01">제1 물류센터</option>
                        <option value="WH-02">반품 센터</option>
                    </select>
                </div>
                <div class="form-group"><label>로케이션 ID:</label><input type="text" id="loc-id" placeholder="예: WH01-A-01"></div>
                <div class="form-group"><label>설명:</label><input type="text" id="loc-desc"></div>
            </div>
            <div class="modal-footer">
                <button onclick="closeModal('locationModal')">취소</button>
                <button class="btn-primary" onclick="saveLocation()">등록</button>
            </div>
        </div>
    </div>

    <!-- 통합 엔진 스크립트 연결 -->
    <script src="app.js"></script> 
    <script src="sort-table.js"></script>
</body>
</html>