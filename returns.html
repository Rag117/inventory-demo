<div id="actionModal" class="modal">
    <div class="modal-content modal-lg">
        <div class="modal-header">
            <h2>반품 상세 정보 및 처리 (RT-001)</h2>
            <span class="close" onclick="closeModal('actionModal')">&times;</span>
        </div>
        
        <div class="modal-body">
            <div class="modal-grid"> <div class="info-section">
                    <h3>1. 원본 거래 정보 (Original Transaction)</h3>
                    <div class="form-group">
                        <label>실제 거래일 (Original Date)</label>
                        <input type="date" value="2025-11-12" readonly class="input-readonly">
                    </div>
                    <div class="form-group">
                        <label>반품처 / 고객사 (From)</label>
                        <input type="text" value="C-2001 (행복한 펫샵)" readonly class="input-readonly">
                    </div>
                    <div class="form-group">
                        <label>관련 주문번호 (Ref SO)</label>
                        <input type="text" value="SO-202511-001" readonly class="input-readonly">
                    </div>
                    <div class="form-group">
                        <label>상품 / 카테고리</label>
                        <input type="text" value="프리미엄 사료 (사료)" readonly class="input-readonly">
                    </div>
                </div>

                <div class="info-section">
                    <h3>2. 반품 처리 내용 (Action)</h3>
                    <div class="form-group">
                        <label>반품 접수일 (Return Date)</label>
                        <input type="date" value="2025-11-18">
                    </div>
                    
                    <div class="form-group">
                        <label>처리 방법 (Action Type)</label>
                        <select id="return-action-type" onchange="toggleDisposalDate()">
                            <option value="DISPOSE">폐기 (Disposal)</option>
                            <option value="RESTOCK">재입고 (Restock)</option>
                            <option value="OTHER">기타 (Other)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label id="action-date-label">폐기 실행일 (Disposal Date)</label>
                        <input type="date" id="action-date-input" value="2025-11-19">
                    </div>

                    <div class="form-group">
                        <label>처리 사유 / 메모</label>
                        <input type="text" placeholder="예: 포장 훼손으로 인한 전량 폐기">
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-footer">
            <button class="btn-danger" onclick="alert('폐기 처리가 완료되었습니다.')">폐기 확정</button>
            <button class="btn-primary" onclick="alert('재입고 처리가 완료되었습니다.')">재입고 확정</button>
        </div>
    </div>
</div>

<script>
function toggleDisposalDate() {
    const type = document.getElementById('return-action-type').value;
    const label = document.getElementById('action-date-label');
    if (type === 'RESTOCK') {
        label.innerText = '재입고 예정일 (Restock Date)';
    } else if (type === 'DISPOSE') {
        label.innerText = '폐기 실행일 (Disposal Date)';
    } else {
        label.innerText = '처리 일자 (Date)';
    }
}
</script>