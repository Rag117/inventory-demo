<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>재고 관리 - 멍밥</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <h2>멍밥 재고 관리 시스템</h2>
            <ul>
                <li><a href="dashboard.html">메인 대시보드</a></li>
                <li><a href="admin.html">기준정보 관리</a></li>
                <li><a href="purchase.html">입고 관리 (발주)</a></li>
                <li><a href="sales.html">수주 관리 (출고)</a></li>
                <li class="active"><a href="stock.html">재고 관리</a></li>
                <li><a href="reports.html">리포트</a></li>
                <li><a href="returns.html">반품/환불 관리</a></li>
            </ul>
        </nav>
        <main class="dashboard">
            <h1>통합 재고 관리</h1>
            
            <div class="tabs">
                <button class="tab-link active" data-tab="tab-current-stock">현재고 현황 (Current)</button>
                <button class="tab-link" data-tab="tab-stock-ledger">재고 수불부 (Ledger)</button>
            </div>

            <div id="tab-current-stock" class="tab-content active">
                <div class="toolbar table-toolbar">
                     <div class="filter-group">
                        <label>통합 검색:</label>
                        <input type="text" id="stock-search-input" placeholder="SKU코드 또는 상품명 입력..." style="min-width: 300px;">
                        <button class="btn-primary" onclick="filterStockTable()">검색</button>
                     </div>
                     <div class="toolbar-buttons">
                        <button onclick="openModal('moveModal')">재고 이동</button>
                        <button onclick="openModal('adjustModal')">재고 조정</button>
                     </div>
                </div>

                <div class="table-wrapper">
                    <table class="sortable-table" id="current-stock-table">
                        <thead>
                            <tr>
                                <th class="sortable-header">SKU</th>
                                <th class="sortable-header">상품명</th>
                                <th class="sortable-header">Lot 번호</th>
                                <th class="sortable-header">창고/로케이션</th>
                                <th class="sortable-header">현재고 (Qty)</th>
                                <th class="sortable-header">유통기한</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="stock-row">
                                <td>SKU-D01</td>
                                <td>프리미엄 그레인프리 사료</td>
                                <td>D01-A251110</td>
                                <td>WH01-A-01</td> <td>20</td>
                                <td>2025-11-29</td>
                            </tr>
                            <tr class="stock-row">
                                <td>SKU-C01</td>
                                <td>웰니스 고양이 캔</td>
                                <td>C01-A251111</td>
                                <td>WH01-C-01</td>
                                <td>100</td>
                                <td>2026-01-10</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="tab-stock-ledger" class="tab-content">
                <div class="toolbar table-toolbar">
                    <div class="filter-group">
                        <label>기준 일자:</label>
                        <input type="date" id="ledger-date" value="2025-12-02">
                        <span style="font-size: 0.8em; color: #666;">* 해당 날짜까지의 재고 흐름을 계산합니다.</span>
                    </div>
                    <button class="btn-primary">조회</button>
                </div>
                
                <div class="table-wrapper">
                    <table class="sortable-table">
                        <thead>
                            <tr>
                                <th class="sortable-header">일자</th>
                                <th class="sortable-header">구분</th>
                                <th class="sortable-header">SKU</th>
                                <th class="sortable-header">상품명</th>
                                <th class="sortable-header">입고</th>
                                <th class="sortable-header">출고</th>
                                <th class="sortable-header">재고 잔량</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2025-12-01</td>
                                <td><span class="status-done">입고(PO)</span></td>
                                <td>SKU-D01</td>
                                <td>프리미엄 그레인프리 사료</td>
                                <td>+50</td>
                                <td>0</td>
                                <td>70</td>
                            </tr>
                             <tr>
                                <td>2025-12-02</td>
                                <td><span class="status-danger">출고(SO)</span></td>
                                <td>SKU-D01</td>
                                <td>프리미엄 그레인프리 사료</td>
                                <td>0</td>
                                <td>-10</td>
                                <td>60</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </main>
    </div>

    <script src="app.js"></script> 
    <script src="sort-table.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', initializeTabs);
    </script>
</body>
</html>